{% extends "realtime.html" %}

{% block title %} Realtime {% endblock %}

{% block content %}

<div class="row-fluid">
    <div id="graph" class="span12 well" style="height:400px; min-height:400px, width:100%">
        
    </div>
</div>

<div class="row-fluid">
    <div class="span12 well well-small">
        <table class="table table-bordered table-striped table-hovered">
            <thead>
                <tr>
                    <th>EXT/PIN</th>
                    <th>TIPO DESTINO</th>
                    <th>NUMERO</th>
                    <th>TRONCAL</th>
                    <th>INICIO</th>
                    <th>TIEMPO ACTIVA</th>
                </tr>
            </thead>
            <tbody>
                {% for d in data %}
                <tr>
                    <td>{{d.0}}</td>
                    <td>{{d.1}}</td>
                    <td>{{d.3}}</td>
                    <td>{{d.2}}</td>
                    <td>{{d.5}}</td>
                    <td>{{d.4}}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

{% endblock %}

{% block scripts %}

<script type="text/javascript">
    $(document).ready(function(){


        var data = $.parseJSON('{{ graphData | safe }}');
        var plot1 = jQuery.jqplot ('graph', [data], 
        { 
            seriesDefaults: {
                // Make this a pie chart.
                renderer: jQuery.jqplot.PieRenderer, 
                rendererOptions: {
                    // Put data labels on the pie slices.
                    // By default, labels show the percentage of the slice.
                    showDataLabels: true
                }
            }, 
            legend: { show:true, location: 'e' }
        });
    });
</script>

{% endblock %}